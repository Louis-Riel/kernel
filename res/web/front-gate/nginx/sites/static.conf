  server {
    listen 443 ssl;

    ssl_certificate /etc/ssl/certs/server/selfsigned/server.crt;
    ssl_certificate_key /etc/ssl/private/ca.key;
    ssl_protocols TLSv1.2;
    ssl_prefer_server_ciphers on;
    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384;
    ssl_session_timeout 10m;
    ssl_session_cache shared:SSL:10m;
    ssl_session_tickets off;
    ssl_dhparam /etc/nginx/dhparam.pem;
    ssl_ecdh_curve secp384r1;

    add_header X-Frame-Options DENY;
    add_header X-Content-Type-Options nosniff;
    add_header X-XSS-Protection "1; mode=block";

    resolver 127.0.0.11;
    client_max_body_size 20M;
    error_page 405 =200 $uri;

    location ~ ^.*[.]svg$ {
      default_type image/svg+xml;
    }

    location ~ ^.*[.]map$ {
      default_type application/json;
    }

    location ~ ^.*[.]css$ {
      default_type text/css;
    }

    location ~ ^.*[.]js$ {
      default_type application/javascript;
    }

    root /usr/share/nginx/html;
    location ~* ^/$ {
      add_header Allow "GET" always;
      error_log  /usr/local/openresty/nginx/logs/static0.error.log debug;
      access_log  /usr/local/openresty/nginx/logs/static0.access.log upstream_time;
      try_files $uri /index.html;
      allow all;
    }

    location ~* ^(/static/.*)$ {
      root /usr/share/nginx/html;
      add_header Allow "GET" always;
      error_log  /usr/local/openresty/nginx/logs/static.error.log debug;
      access_log  /usr/local/openresty/nginx/logs/static.access.log upstream_time;

      try_files $uri $1;
      allow all;
    }

    # location ~* ^/(\w+[.](json|ico|png|txt))$ {
    #   root /usr/share/nginx/html;
    #   add_header Allow "GET" always;
    #   error_log  /usr/local/openresty/nginx/logs/static.error.log debug;
    #   access_log  /usr/local/openresty/nginx/logs/static.access.log upstream_time;

    #   try_files $uri $1;
    #   allow all;
    # }
  }
